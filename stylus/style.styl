@charset 'utf-8'
@import 'vendor/reset'
@import 'include/variable'
@import 'include/icon'

body
    background #f7f7f7
    color $font-color
    font-family 'Lato','Noto Sans TC','Helvetica','Arial','微軟正黑體',sans-serif;
    font-size $font-size
    letter-spacing: .05em
    line-height 1.5
    padding 50px 0
.wrapper
    margin-left auto
    margin-right @margin-left
    max-width 1200px
    padding-left 10px
    padding-right @padding-left
    width 100%
.tab-group
    display flex
    justify-content space-between
    .tab-content
        flex 0 0 $fb = 49%
        max-width $fb
        width $fb
.picture-frame
    border 5px outset #ddd
    overflow hidden
    position relative
.canvas-wrapper
    background #fff
    display block
    height auto
    width 100%
    .type-pin &
        opacity .1
.pin-editor
    bottom 0
    cursor none
    height 100%
    left 0
    overflow hidden
    position absolute
    right 0
    top 0
    width 100%
    .type-canvas &
        display: none
    .pin-cursor
        background #fff
        background-size contain
        height 35px
        -webkit-mask $mk = center center no-repeat
        mask $mk
        -webkit-mask-image: $mki = url(mediaPath+"/icons/focus_on.svg")
        mask-image: $mki
        mix-blend-mode: difference
        position absolute
        transform: translate(-50%, -50%)
        width @height
        z-index 0
    .pin-target
        background rgba(#fff, .75)
        border-radius 50%
        box-shadow 0 0 0 3px rgba(#fff, .5)
        height 2px
        position absolute
        width @height
        z-index 10
        &:hover
            cursor pointer
    .btn-pin
        bottom 0
        cursor pointer
        left 50%
        padding 5px 5px 0
        position absolute
        transform: translateX(-50%)
        .icon
            background transparent url(mediaPath+"/icons/focus_pin.svg") center center no-repeat
            background-size contain
            display block
            height 35px
            -webkit-mask $mk = none
            mask $mk
            width @height
    .on-autofocus
        .btn-pin
            .icon
                background-image url(mediaPath+"/icons/auto_pin.svg")
    .pin-product
        background rgba(#fff, .5)
        border none
        border-radius 5px
        box-shadow 2px 2px 5px rgba(0, 0, 0, 0.25)
        font inherit
        left -20px
        max-width 200px
        padding .25em 1em
        position absolute
        text-align left
        top 100%
        &[readonly]
            background transparent
            box-shadow none
            cursor none
            opacity .5
            padding 0 5px
            user-select: none
    .theme-right
        .pin-product
            left auto
            right -20px
            text-align right
    .editor-box
        bottom 0
        display none
        left 25px
        position absolute
        transform: translateY(25%)
        z-index 20
        &:before
            border-right-color #888
            border-right-width 9px
            right 100%
    .theme-right
        .editor-box
            left auto
            right 25px
            &:before
                border-left-color #888
                border-left-width 9px
                border-right-width 0
                left 100%
                right auto
.editor-box
    background rgba(#fff, .75)
    border 2px solid #888
    border-radius 5px
    display: block
    padding 5px
    &:before
        border solid transparent
        border-bottom-width 6px
        border-top-width @border-bottom-width
        bottom 0
        content ''
        display: block
        height 0
        margin auto
        position absolute
        top 0
        width 0
    .btn
        cursor pointer
        display block
        padding 5px
        &-delete
            .icon
                background-color #d00
        &-editor
            .icon
                background-color #080
    .icon
        height 25px
        width @height
.element-title
    border-bottom 1px solid #ddd
    font-size 20px
    margin-bottom 15px
    margin-top 30px
    padding-bottom 5px
    text-align center
    &:first-child
        margin-top 0
.element-group
    display block
    font-size 0
    margin 0 -5px
    a
    img
        display block
        width 100%
    .item
        border 2px solid #ddd
        border-radius 5px
        display inline-block
        margin 0 5px 10px
        overflow hidden
    .link
        background #fff
        padding 10px
        &:hover
            background-color #eee
        img
            height 50px
            object-fit: contain
            width @height

btnLinearGradient(degree, color)
    background-color color
    background-image linear-gradient(degree, rgba(lighten(color, 75%), .25) 0%, rgba(lighten(color, 75%), .5) 30%, rgba(lighten(color, 75%), 0) 60%, rgba(darken(color, 75%), .5) 100%)
    z-index contrast(color)['ratio'];
    if(contrast(color)['ratio'] > 2)
        color #fff
    else
        color #000

.btn-group
    display none
    font-size 0
    letter-spacing 0
    margin 20px 0 0
    text-align center
    .type-canvas .canvasEditor-group&
        display block
    .type-pin .pinEditor-group&
        display block
    .item
        display inline-block
        font-size 20px
        margin 0
        vertical-align middle
        &:first-child
            padding-left 10px
        &:last-child
            padding-right 10px
        .canvasEditor-group&
            btnLinearGradient(180deg, #666)
        .pinEditor-group&
            btnLinearGradient(180deg, #333)
    .link
        display block
        padding 10px 10px
        &:hover
            .canvasEditor-group&
                btnLinearGradient(0deg, #666)
            .pinEditor-group&
                btnLinearGradient(0deg, #333)
    .icon
        display block
        margin 0 auto
.search-form
    display: flex
    margin 0 auto
    max-width 350px
    input
    button
        display: block
        font inherit
    input
        background #fff
        border 1px solid #666
        border-radius 5px 0 0 5px
        flex 0 0 $fb = calc(100% - 60px)
        max-width $fb
        padding .5em 1em
        width $fb
    button
        background #666
        border-radius 0 5px 5px 0
        color #fff
        flex 0 0 $fb = 60px
        max-width $fb
        text-align center
        width $fb
        &:hover
            background-color darken(#666, 15%)
.icons-group
    font-size 0
    .item
        display inline-block
        font-size 30px
        vertical-align middle

.switch-button
    align-items center
    background #666
    border-radius 100px
    color #fff
    display flex
    justify-content space-between
    margin 0 auto 25px
    overflow: hidden
    padding 3px
    width 125px
    &:before
    &:after
        display block
        overflow: hidden
        text-align center
        transition: .25s
        white-space: nowrap
    &:before
        content '錨點管理'
        .type-canvas &
            flex: 0 0 0em
            opacity 0
        .type-pin &
            flex: 0 0 5em
            opacity 1
            padding-left 5px
    &:after
        content '拼貼畫板'
        .type-canvas &
            flex: 0 0 5em
            opacity 1
            padding-right 5px
        .type-pin &
            flex: 0 0 0em
            opacity 0
    .switch-circle
        background repeating-radial-gradient(rgba(#000, .75) 0%, rgba(#000, 1) 100%)
        border 2px solid #fff
        border-radius 50%
        box-shadow 0 0 10px rgba(#000, .4)
        display block
        flex 0 0 $fb = 30px
        height $fb
        max-width $fb
        transition: .25s
        width $fb
        .type-canvas &
            margin-right auto
        .type-pin &
            margin-left auto